
# [Platinum II] 트리 색칠하기 - 1693

[문제 링크](https://www.acmicpc.net/problem/1693)

### 문제 요약

<p> 트리가 주어진다. 문제의 조건대로 각 정점들을 색칠할 때, 전체 정점을 칠하는 최소 비용을 구해보자. </p>

### 제한

TL : 2sec, ML : 256 MB

$1 ≤ n ≤ 100,000$

### 성능 요약

메모리: 16728 KB, 시간: 112 ms

### 분류

다이나믹 프로그래밍(dp), 트리(trees), 트리에서의 다이나믹 프로그래밍(dp_tree)

### comment

우선 정점의 수가 10만개이므로, 어떤 기준에 근거하여 최대한 적은 가짓수의 색들만을 사용해야 하는 것은 확실하다.

가장 기본적인 생각으론 두가지 색만을 이용해 번갈아가면서 칠해보는 것을 생각해 볼 수 있다. (<del> 예제부터 틀리므로 과감히 pass </del>)

"세계지도를 서로 다른 4가지 색만을 사용해서 인접 나라의 색이 같지 않도록 모두 칠할 수 있을까?" 라는 유명한 문제(4색 문제)를 떠올려봐도
이것을 트리에 적용할 수 있나 ? 나아가 적용이야 할 수 있다고 쳐도 그게 항상 최소 비용을 이룬다는 보장이 있는지 의문이었다.

결국 힌트라도 얻어볼까 하고 게시판을 구경하는데 [이 글](https://www.acmicpc.net/board/view/13972)을 보았고, koosaga님의 댓글을 보곤 머리가 띵했다.

좀만 더 관찰했다면 발견할 만했을 것 같은데..

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

$logN$ 가지의 색만을 이용해도 됨을 납득 했다면, 이제 문제는 매우 간단해진다.

$dp[i][j]$ : $i$번 정점을 $j$색으로 칠했을 때 $i$번 정점을 루트로 하는 서브 트리의 최소 색칠 비용.

이때 $j$의 범위는 $ceil(log_2(100000))$에서 여유롭게 1 ~ 18로 잡아주었다.

정점의 수가 많으므로 메모이제이션에 유의하여 1번 정점을 1번 색, 2번 색, ... 18번 색으로 칠했을 때를 모두 계산해보며 최솟값을 찾아주면 된다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

위 사실이 약간 그들만의(고인물들의) 웰노운 느낌인데 이 참에 제대로 알아 둬야겠다.
