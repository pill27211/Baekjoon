
# [Gold V] 조 짜기 - 2229

[문제 링크](https://www.acmicpc.net/problem/2229)

### 문제 요약

<p> 조 하나의 잘 짜여진 정도는 조원 중 최대 점수 - 최소 점수로 정해진다. 이때 적절히 조를 구성해서 잘 짜여진 정도의 최댓값을 구해보자. </p>

### 제한

TL : 2sec, ML : 128 MB

1 ≤ N ≤ 1,000

0 ≤ N_i ≤ 10,000

### 성능 요약

메모리: 2028 KB, 시간: 0 ms

### 분류

다이나믹 프로그래밍(dp)

### comment

dp[i] : i번째 학생까지를 기준으로 만들 수 있는 최댓값.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

i번째 학생의 점수를 입력 받는다면 i - 1, i - 2, ... 번째 학생의 점수를 이미 입력 받은 상태이므로 입력과 동시에 dp테이블을 만들어 나가도 무방하다.

매 입력 별 최댓값(2e9)과 최솟값(-1)을 최초로 잡아두고, i번째부터 i - 1, i - 2, ... 1까지 순회해보며 매번 최댓값과 최솟값을 갱신해보자.

이때 최솟값 및 최댓값이 갱신되는 시점을 중요하게 보며 흐름을 따라가 보자. (예제를 예로 들면)

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

2가 들어왔을 떈 최솟값 = 최댓값 = 2다. 즉 dp[1] = 0;

5가 들어왔을 땐 최솟값 = 2, 최댓값 5다. 즉, dp[2] = 3;

7이 들어왔을 땐 i - 1까진 dp[3] = 2지만, i - 2를 보며 최솟값 2, 최댓값 7이다. 즉, dp[3] = 5;

한가지만 더 보자. 1이 들어왔을 때 1과 7이 지금까지 입력 받은 모든 수들의 최솟값, 최댓값이 된다.

1과 7은 각각 a[4], a[3]이다. 이 조에 a[1], a[2]를 포함 시켜 버릴바에 {a[4], a[3]}, {a[1], a[2]}와 같이 나눠버리는 게 낫지 않겠는가 ?

여기서 중요한 건, 나눌때의 최댓값은 어디서 가져올까 ?

우린 이를 이미 알고 있다. 바로 '최댓값 || 최솟값이 갱신되는 시점'의 이전 dp값이다.

즉, a[4]에서 최댓값이 갱신 되고, a[3]에서 최솟값이 갱신 된다. 따라서 이들을 및 이들 사이에 있는 수들을 묶을 때 남은 수들로 만들 수 있는 최댓값은 dp[2]가 된다.

이제 위의 흐름을 그대로 점화식으로 옮겨주면 된다.

dp[i] = max(dp[i], dp[j - 1] + Max - min); {j : 현재 보고 있는 인덱스}

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

<del> 참고로 이 문제는 굳이 이렇게 머리를 쓰려하지 않아도 통과한다. 무식한 상수 큰 O(N^2) </del>
