# [Gold IV] 2차원 배열 다중 업데이트 단일 합 - 25826

[문제 링크](https://www.acmicpc.net/problem/25826)

### 문제 요약

<p> 2차원 상에서 imos법을 사용할 수 있는가 ? </p>

### 제한

TL : 3sec, ML : 512 MB

$1 ≤ n ≤ 1,000$

$1 ≤ m ≤ 300,000$

$1 ≤ k ≤ 10,000$

$1 ≤ A[i][j] ≤ 1,000,000$

### 성능 요약

메모리: 17804 KB, 시간: 268 ms

### 분류

누적 합(prefix_sum)

### comment

처음 접하면 꽤 난관을 요구하는 문제인 것 같다.

업데이트 쿼리가 앞으로 몰려있고, 출력 쿼리는 맨 끝에 있다.

[이 문제](https://www.acmicpc.net/problem/19951)의 2차원 버전이라고 생각하면 될 것 같다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

1차원 imos에서 2차원 imos로 넘어왔을 뿐인데 난이도 차이가 좀 나는 거 같다.. 처음에 식 쓰다가 살짝 멈칫하게 되는듯.

꽤 교육적인 문제인데 많은 사람들에게 알려지지 않은 것 같아 아쉽다.

추가로 기여가 극과 극인데, 내가 푼 당시 무려 실버 1, 2 기여와 골드 1, 2 기여가 대립했었다.

기준이 너무 안잡혀서.. 일단 내 기준으론 G4 정도가 맞는 듯 하다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

풀이는 1차원에서의 방식을 그대로 가져오면 된다.

구간 $[a, b]$ 에서 $[y, x]$ 까지 $k$ 만큼의 업데이트 요청이 들어오면

$p[a][b]$와 $p[y + 1][x + 1]$에는 $+k$를, $p[a][x + 1]$와 $p[y + 1][b]$에는 $-k$를 업데이트 해준다.

이후 마지막 쿼리전에 $O(N^2)$의 누적 합을 통해 모든 영역의 업데이트를 해준 뒤 주어진 영역의 합을 구해주면 된다.
