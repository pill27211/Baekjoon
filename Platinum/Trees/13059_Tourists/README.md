
# [Platinum IV] Tourists - 13059

[문제 링크](https://www.acmicpc.net/problem/13059)

### 문제 요약

<p> 배수 관계에 놓여 있는 모든 정점 간 이동 거리의 합을 구해보자. 이때, 거리는 경로 상에 방문하는 정점의 수로 구한다. </p>

### 제한

TL : 5sec, ML : 512 MB

$2 ≤ n ≤ 200,000$

### 성능 요약

메모리: 37920 KB, 시간: 472 ms

### 분류

트리(trees), 최소 공통 조상(lowest common ancestor)

### comment

트리에서 가중치가 따로 없을 때 기본적으로 두 정점( $p, q$ ) 사이 최단 거리는

$D = Depth[p] + Depth[q] - 2 * Depth[LCA(p, q)]$

로 구할 수 있다.

그런데 이번 문제에선 시작 정점까지 포함 해야 하므로 위 식에 + 1까지 해주자.

이제 배수 관계에 놓여 있으면서 $x < y$ 를 만족하는 모든 $x, y$쌍에 대한 거리의 합을 구해주면 된다.
