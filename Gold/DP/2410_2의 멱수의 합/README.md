
# [Gold V] 2의 멱수의 합 - 2410

[문제 링크](https://www.acmicpc.net/problem/2410)

### 문제 요약

<p> 어떤 자연수 N을 2의 멱수의 합으로 나타내는 경우의 수를 구해보자. </p>

### 제한

TL : 2sec, ML : 128 MB

1 ≤ N ≤ 1,000,000

### 성능 요약

메모리: 5928 KB, 시간: 36 ms

### 분류

다이나믹 프로그래밍(dp)

### comment

우선 처음 보자마자 떠오른건 동전DP였다. 

1,000,000을 넘지 않는 선에서 1부터 비트 단위로 밀며 동전DP 진행 후 AC.

---------------------------------------------------------------------------------------------------------------------------------------------

이후 다른 코드들을 구경해보니 매우 간단하게 점화식이 도출됨을 깨달았다.

우선 주어진 범위 내의 자연수를 홀수 / 짝수로 구분해보자.

* 홀수는 1을 반드시 포함하는 2의 멱수로 구성되어 있다.

따라서 (모든 경우에 +1만 해주면 되므로) 1을 뺀 수의 경우의 수와 같다. (dp[i] = dp[i - 1])

* 짝수는 1을 포함하는 경우 / 포함하지 않는 경우로 나뉜다.

전자는 홀수 때 처럼 1을 뺀 수의 경우의 수와 같다.

후자는  2 * n {n : 자연수}꼴 수들의 합으로 이루어진다.

이때 i / 2를 표현하는 경우의 수를 더해주면 된다. 왤까 ?

예를 들어 1 + 2 + 4 + 8 = 15가 있을 때, 양변에 2를 곱해주면
2 + 4 + 8 + 16 = 30이 된다.

바로 이 점을 이용해 2 * n {n : 자연수}꼴 수들의 합을 카운트 해주는 것이다.

따라서 짝수일땐 dp[i] = dp[i - 1] + dp[i >> 1]이며 최종적으로 점화식은 다음과같이 만들어진다.

dp[i] = (dp[i - 1] + (i & 1 ? 0 : dp[i >> 1])) % (int)1e9;

