
# [Gold V] 도로의 개수 - [2565](https://www.acmicpc.net/problem/1577)

[문제 링크](https://www.acmicpc.net/problem/1577)

### 문제 요약

<p> n * m의 맵과 공사중인 도로 정보가 주어질 때, (0, 0)에서 (n * m)까지 가는 서로 다른 경로의 수를 구해보자. </p>

### 제한

TL : 2sec, ML : 16 MB

1 ≤ n, m ≤ 100

0 ≤ k ≤ 50

공사중인 도로의 거리는 항상 1이며, 답은 항상 2^63 - 1 보다 작거나 같은 자연수이다.

### 성능 요약

메모리: 2260 KB, 시간: 0 ms

### 분류

다이나믹 프로그래밍(dp)

### comment

공사중인 도로의 정보를 처리하는 것이 유일한 관건이다.

추가로 메모리 제한을 보면, 도로의 공사 정보를 단순히 4차원 배열상의 표시하는 것을 막기 위함인듯 보인다. (check[0][0][0][1] = 1 같은)

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

공사 정보를 처리하는데에 있어서 다양한 방법을 생각해 볼 수 있다. 조건이 작음을 이용해 인접 리스트 형식으로 따로 만들거나, 해시를 하거나 등등등..

하지만 문제에 가장 큰 포인트가 있는데, 바로 다음 부분이다.

* "세준이는 항상 최단거리로만 가기 때문에, 항상 도로를 정확하게 N + M개 거친다."
* "(a, b)와 (c, d)의 거리는 항상 1이다."

난 탑다운 방식으로 진행했기 때문에 탑다운 방식의 입장에서 보면, 공사는 x좌표 혹은 y좌표가 큰 쪽에서 ← 혹은 ↑ 방향으로만 진행된다고 볼 수 있다.

따라서 다음과같이 간단하게 공사 정보를 표현해낼 수 있다.

(b ^ d) ? M[max(b, d)][a][0] = 1 : M[b][max(a, c)][1] = 1;

좌측 식은 점(max(b, d), a)에서 ↑ 방향의 도로가 막혀 있다는 뜻, 우측은 점(b, max(a, c))에서 ← 방향의 도로가 막혀 있다는 뜻이다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

기저 상태로 dp[0][0] = 1를 잡아준 뒤에, 점(n, m)에서 M[i][j][k] == 0일때에 한해 ←, ↑ 방향으로 평면 dp를 돌려주면 된다.
