
# [Platinum V] 피보나치 수의 제곱의 합 - 11440

[문제 링크](https://www.acmicpc.net/problem/11440)

### 문제 요약

<p> n과 m이 주어진다. 이때, 0번째 피보나치 수의 제곱부터 n번째 피보나치 수의 제곱의 합을 1e9 + 7로 나눈 나머지값을 구해보자. </p>

### 제한

TL : 1sec, ML : 256 MB

1 ≤ n ≤ 1,000,000,000,000,000,000

### 성능 요약

메모리: 2024 KB, 시간: 0 ms

### 분류

수학(math), 분할 정복을 이용한 거듭제곱(exponentiation_by_squaring)

### comment

f(n) = f(n + 1) - f(n - 1) 에서 양변을 제곱하면

f(n)^2 = f(n) * (f(n + 1) - f(n - 1)) -> i

이제 ∑(i_1, i_2, ..., i_n-1, i_n)를 전개 후 소거되는 쌍들을 지우고(대충 연속항 몇 개 써보면 항들이 소거되는 패턴이 보임) 남은 항에 i_0(1)을 더하면

i_0(1) + f(n) * f(n + 1) - f(1) * f(0) = f(n) * f(n + 1).

따라서 ∑(i_0, i_1, i_2, ..., i_n-1, i_n) = f(n) * f(n + 1) 과 같다.

[여기](https://github.com/pill27211/Baekjoon/tree/main/Gold/Math/11444_%ED%94%BC%EB%B3%B4%EB%82%98%EC%B9%98%20%EC%88%98%206)서 다룬 방식을 이용해 피보나치 수를 구할 때, 
위 식에 따라 (f(a) * f(a + 1)) % m 의 값을 찾아주면 된다.
