
# [Gold III] 문자판 - 2186

[문제 링크](https://www.acmicpc.net/problem/2186)

### 문제 요약

<p> 2차원 맵이 주어진다. 상하좌우로 한 번에 k칸 이하로 이동할 수 있을 때, 목표 문자열을 만들어낼 수 있는 경로의 수를 구해보자. </p>

### 제한

TL : 2sec, ML : 128 MB

1 ≤ N, M ≤ 100

1 ≤ k ≤ 5

답은 2^31 - 1 보다 작거나 같다.

### 성능 요약

메모리: 5304 KB, 시간: 168 ms

### 분류

다이나믹 프로그래밍(dp), 그래프 이론(graphs), 그래프 탐색(graph_traversal)

### comment

dp[i][j][l] : 점 (i, j)에 l번 이동하여 도착했을 때, 목표 문자열을 만들어낼 수 있는 경로의 수.

항상 목표 문자열에 해당하는 곳으로만 이동하도록 구현하면 위 점화식이 성립한다.

무슨 말이냐면, 현재 l이 만약 3이라고 할 때 0, 1, 2번째 이동은 목표 문자열 s의 0, 1, 2번째 문자를 거쳐서 왔다는 것을 보장한다는 말이다.

----------------------------------------------------------------------------------------------------------------------------------------------------------------------

위 가정에 따라, 탑다운 함수 호출은 a[i][j]에 있는 문자가 s의 0번째 인덱스 문자와 일치할 때만 이뤄진다.

3개의 파라미터(y좌표, x좌표, o : 현재까지 이동한 횟수) 를 관리하자.

기저 조건은 당연히 o가 s의 길이보다 하나 작을 때(= 목표 문자열이 완성됐을 때)가 되겠다.

4방 탐색 + 한 번에 k칸 이하로 움직일 수 있으므로, 이동할 수 있는 모든 위치를 계산해보며 아래 두 조건에 해당할 때마다 분기해주자.

* 기본적으로 해당 좌표가 맵 내부에 존재하는가.
* 해당 좌표가 s의 o + 1번째 인덱스 문자와 일치 하는가. (위에서의 가정을 따라야 하므로)

이것을 하나의 변수의 누적해주어 답을 구해주면 끝.
