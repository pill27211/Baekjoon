
# [Platinum IV] Cards - 4966

[문제 링크](https://www.acmicpc.net/problem/4966)

### 문제 요약

<p> m개의 파란색 카드와 n개의 빨간색 카드가 주어진다. 이후 주어진 규칙에 따라 카드 쌍을 제거하려할 때, 카드 쌍이 가장 많이 제거되는 경우의 수를 찾아보자. </p>

### 제한

TL : 5sec, ML : 128 MB

1 ≤ n, m ≤ 500

2 ≤ n_i, m_i ≤ 10,000,000

### 성능 요약

메모리: 3228 KB, 시간: 636 ms

### 분류

수학(math), 정수론(number_theory), 유클리드 호제법(euclidean), 이분 매칭(bipartite_matching)

### comment

문제를 찬찬히 읽어보면, 결국 구하라는 것이 바로 gcd(n_i, m_i) > 1 을 만족하는 쌍의 최대 경우의 수를 찾으라는 것이다.

파란색 카드 집합과 빨간색 카드 집합. 두 집합 간의 최대 매칭 수. 그렇다. 바로 이분 매칭 문제로 바뀌게 된다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

문제의 입력 포맷이 살짝 독특한데, 각 언어별로 유의해서 잘 받아주자.

우선 첫 번째로 하나의 카드 집합이 주어진다. 이후 두 번째 카드 집합이 주어지는데, 이때 이분 그래프 모델링도 함께 해주도록 하자.

두 번째 카드 집합 내 요소들을 입력 받을 때마다 먼저 입력 받은 첫 번째 카드 집합을 순회하며 gcd(k, n_i) > 1 을 만족하는 경우 k에서 n_i로 향하는 간선을 세팅해주자.

최종적으로 만들어진 이분 그래프를 대상으로 이분 매칭을 돌려주면 간단하게 최대 매칭 수를 구해낼 수 있다.

여러 개의 테스트 케이스로 이루어진 문제이니 각 케이스마다 초기화도 잊지 말고 진행해주면 된다.
