
# [Platinum V] 이미지 보정 작업 - 27068

[문제 링크](https://www.acmicpc.net/problem/27068)

### 문제 요약

<p> BFS + Parametric Search </p>

### 제한

TL : 3sec, ML : 1024 MB

$1 ≤ N, M ≤ 500$

$1 ≤ X ≤ 10^{18}$

$0 ≤ a_{i,j} ≤ X$ 

### 성능 요약

메모리: 8084 KB, 시간: 528 ms

### 분류

그래프 이론(graphs), 그래프 탐색(graph_traversal), 너비 우선 탐색(bfs), 이분 탐색(binary search), 매개 변수 탐색(parametric search)

### comment

처음 만난 유형이었다.

bfs와 parametric search이 섞인 문제.

문제의 내용에 따라 결정 문제를 다음과 같이 정의 해보자.

"최대 $K$번의 보정을 하여 인접한 모든 구역 쌍 차이의 최댓값을 특정 값( $V$ ) 이하로 만들 수 있는가 ? "

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

정의에 따라 $V$를 parametric search의 축으로 잡고 각 시행마다 bfs를 수행해보자.

bfs 로직은 잠시 재쳐두고 생각해보면, 결국 특정 시행마다 $V$를 만족 시키기 위해 수행되었던 보정의 수에 따라 축이 이동하며 찾은 최솟값이 곧 답이 됨을 알 수 있다.

parametric search의 구성은 비교적 간단하게 정의가 됐는데, 문제는 bfs에서 어떤 기준으로 보정을 시행하는가 ? 이다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

한가지 짚고 넘어가야 할 것이, $a_{i,j}$와 $X$의 범위이다.

보정을 하던 뭘하던 맵 상에 $X$보다 큰 값은 존재할 수 없다.

따라서, 보정이 필요한 두 구역 $A_i$, $B_i$에 대해 항상 작은 쪽을 보정해야 여파를 최소로 하며 수렴시킬 수 있다.

최종적으로 bfs는 다음의 과정을 거친다.

* $N * M$을 순회하며 보정이 필요한 작은 영역들을 대상으로 보정을 진행하고, 해당 위치를 모두 큐에 넣는다.
* 큐가 빌 때까지 현재 위치를 보정함으로써 주위에도 보정이 필요하게 된 영역들을 계속 추가한다.
* 위 모든 과정에서 보정이 발생할 때마다 카운트를 누적 해준다.
* 카운트를 반환하며, 결정 문제의 정의에 따르자.

-> $O(N * M logN X )$

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
