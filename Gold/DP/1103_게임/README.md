
# [Gold II] 게임 - 1103

[문제 링크](https://www.acmicpc.net/problem/1103)

### 문제 요약

<p> 맵에 적힌 수만큼 4방향으로 점프할 수 있을 때, 움직일 수 있는 최대 경우의 수를 찾아보자. </p>

### 제한

TL : 2sec, ML : 512 MB

1 ≤ N, M ≤ 50

1 ≤ E ≤ 500

무한 번 움직일 수 있을 경우 -1 출력.

### 성능 요약

메모리: 2044 KB, 시간: 0 ms

### 분류

다이나믹 프로그래밍(dp), 그래프 이론(graphs), 그래프 탐색(graph_traversal), 깊이 우선 탐색(dfs)

### comment

dp[i][j] : 점(i, j)에서 움직일 수 있는 최대 경우의 수

우선 기저 조건을 "맵 밖으로 나갔을 때 || 'H'로 빠질 때" 로 세팅해주자.

임의의 정점 (i, j)에서 4방향으로 탑다운 dp를 진행하며 이 중 최댓값을 dp[i][j]에 담아 주면 끝이다.

근데 이제 한가지 문제가 있는데 무한 번 움직임을 어떻게 판단할 것인가 ?

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

그래 사이클을 찾으면 된다. 이 사이클을 근데 어떻게 해야 간단하고 효울적으로 판단할 수 있을까 ?

이는 그저 방문 처리를 위한 배열 하나면 충분하다.

정점 (i, j)에서 4방향으로 뻗어 나가며 탐색을 시도한다고 해보자. 이때 정점 (i, j)의 방문 처리 유무는 두가지로 나뉜다.

* (i, j)를 시작으로 4방향으로 뻗어 나갈 때. (이 직전에 방문 처리를 해주어야 함)
* (i, j)를 시작으로 4방향 탐색이 끝나 더이상 (i, j)의 방문 상태를 유지할 필요가 없을 때 (4방 탐색 이후 곧바로 방문 처리 해제)

위 조건에 따라 방문 처리가 되어 있는 정점에 도착했다는 건,

아직 해당 정점으로부터 경로 탐색이 끝나지도 않았는데 해당 정점을 방문 했다는 것으로 해석할 수 있다. (즉, 사이클 발생)

따라서 이 조건을 기저 조건으로 추가해 사이클 여부를 체크해 주면 끝.
