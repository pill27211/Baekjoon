# [Platinum V] Marinada - 25478

[문제 링크](https://www.acmicpc.net/problem/25478)

### 문제 요약

<p> $N * M$ 크기의 맵이 주어진다. $U$에서 목표 지역을 모두 거친 뒤 $I$로 이동하는 최소 이동 거리를 구해보자. </p>

### 제한

TL : 2sec, ML : 1024 MB

$1 ≤ N, M ≤ 1,000$

$1 ≤ K ≤ 16$

### 성능 요약

메모리: 69856 KB, 시간: 532 ms

### 분류

그래프 이론(graphs), 그래프 탐색(graph_traversal), 너비 우선 탐색(bfs), 다이나믹 프로그래밍(dp), 비트마스킹(bitmask), 
비트필드를 이용한 다이나믹 프로그래밍(dp_bitfield), 외판원 순회 문제(tsp)

### comment

[여기](https://github.com/pill27211/Baekjoon/tree/main/Platinum/Graphs/5852_Island%20Travels)에서 다룬 문제를 먼저 풀고 이 문제를 발견했는데, 사실상 이 문제가 저 문제의 하위 호환이다.

로직은 위에서 다룬 내용과 크게 다르지 않으니, 간단하게 적고 넘어 가겠다.

오히려 영역들이 하나의 위치로만 표현되니 구현은 더욱 간단해진다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

* 모든 $N$ 지점에 대해 bfs를 수행하여 $U$, $I$로 이동하는 거리와 다른 $N$ 지점까지의 거리를 모두 구하자.
* $N_i$을 방문하는 순서는 상관 없다. 그저 최소가 되는 순회를 찾아내는 것이다. 또, $1 ≤ K ≤ 16$ 이므로 $tsp$ 문제로써 해결할 수 있다.
* $Dist(p, q)$를 $p$ 지점에서 $q$지점으로 이동하는 최소 비용이라고 하자.
* 그럼 결국 $1 ≤ K ≤ 16$ 인 $N_i$에 대해 $min(tsp$ _ $start(N_i)$ $+$ $Dist(N_i, U))$의 값을 찾는 문제가 된다.
* 각 $tsp$ 에서 $N$인 지점을 모두 방문했을 땐 $I$로 이동하는 일만 남았으니 마지막으로 방문한 점을 $x$라 할 때 $Dist(x, I)$의 값을 반환하면 된다.
