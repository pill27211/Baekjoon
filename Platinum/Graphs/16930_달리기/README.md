
# [Platinum III] 달리기 - 16930

[문제 링크](https://www.acmicpc.net/problem/16930)

### 문제 요약

<p> 각 방향으로 최대 K칸 만큼 움직일 수 있을 때, 시작점에서 도착점까지 가는데에 걸리는 최소 시간을 구해보자. </p>

### 제한

TL : 1sec, ML : 512 MB

2 ≤ N, M ≤ 1,000

1 ≤ K ≤ 1,000

### 성능 요약

메모리: 15312 KB, 시간: 68 ms

### 분류

그래프 이론(graphs), 그래프 탐색(graph_traversal), 너비 우선 탐색(bfs)

### comment

정답률이 어쩌다 13%까지 내려가게 된건지 모르겠지만 우선 나이브하게 짜면 TLE인건 너무나도 당연하다.

하지만 굉장히 간단한 당연한 컨트롤 하나면 널널하게 AC를 받을 수 있다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

우선 최대 K칸 이동할 수 있다는 것은 순간 이동이 아닌, 순차 이동이라는 말이다.

무슨 말이냐면 임의의 지점에서 한 방향으로 K칸 만큼 이동한다고 했을 때, 1, 2, 3, ... K - 1번 만큼 이동한 칸에 벽이 없어야 한다.

이것은 간단하게 카운트 변수 하나를 추가해 조건문으로 잡아줄 수 있다.

그럼 이제 남은 건 최적화다.

현재 지점의 방문 시간을 V[a][b]라 하고 임의의 방향으로 i칸 만큼 이동한 곳을 V[y][x]라 하자.

임의의 방향으로 최대 K칸 만큼 이동할 수 있으니 그 지점을 방문 했냐, 안했냐가 중요한 게 아니라 그 지점이 얼마의 비용으로 방문 됐냐가 중요하다. (물론 방문이 안됐을 수도 있고)

이때 만약 V[y][x]가 V[a][b]보다 작거나 같다면 그 시점 이후(i + 1, i + 2, ... K)로는 더이상 볼 필요가 없어진다.

이미 큐에 들어가 있거나 그 비용으로 이뤄지는 탐색이 진행되었을 테니까.

따라서 이 경우엔 반복문을 즉시 탈출한다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

추가로 해당 지점을 처음 방문할 때만 큐에 삽입해주자. (첨에 이 컨트롤 빼먹어서 TLE 한번 맞음..)

아무때나 계속 큐에 추가 하면 의미 없는 정점들이 무수히 많이 추가되니..

사실 이 문제는 [여기](https://github.com/pill27211/Baekjoon/tree/main/Gold/Graphs/1726_%EB%A1%9C%EB%B4%87)에서 다룬 문제를 풀고 보게 된 문제인데, 저 문제 풀이 코드에서

그냥 배열 조정하고 조건문 두어 개 추가해주니 AC를 받게 됐다.

이 문제는 왜 Platinum 3 씩이나 되는지 잘 모르겠다. 나이브하게 짜면 안된다는 걸 문제의 범위가 말해주고 최적화를 생각하는 방향 또한 그리 어렵지 않은데 말이다.
