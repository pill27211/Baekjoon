
# [Platinum IV] 경찰차 - 2618

[문제 링크](https://www.acmicpc.net/problem/2618)

### 문제 요약

<p> 2차원 맵에서 w개의 사건이 발생한다. 두 대의 경찰차가 사건을 순차적으로 해결할 때, 두 대의 경찰차가 이동하는 거리의 합을 최소로 하는 경우를 찾아보자. (비용 및 과정) </p>

### 제한

TL : 1sec, ML : 128 MB

$5 ≤ N ≤ 1,000$

$1 ≤ W ≤ 1,000$

### 성능 요약

메모리: 17684 KB, 시간: 36 ms

### 분류

다이나믹 프로그래밍(dp)

### comment

dp식 접근 과정은 사실상 [여기](https://github.com/pill27211/Baekjoon/tree/main/Platinum/DP/11570_%ED%99%98%EC%83%81%EC%9D%98%20%EB%93%80%EC%97%A3)에서 다룬 내용과 별반 차이가 없다.

그러니 바로 본론으로 들어가보자.

$dp[p][q]$ : 각 경찰차의 마지막으로 해결한 사건의 번호가 각각 $p, q$일 때 이동하는 거리의 최솟값.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

풀이 시작은 위에서 태그한 문제의 시작 과정과 별반 다를게 없으므로 최소 거리를 구하는 건 간략하게 적고 넘어가겠다.

똑같이 3개의 파라미터( 위에서의 $p, q$ 그리고 현재 시점 $u$ )를 관리하자.

* 기저사례는 역시 u == w + 1일 때가 되겠다.
* 현재 시점을 $dp[p][q]$라 할 때 다음 상태 전이는 사건 $u$를 1번 경찰차가 해결한 경우에 $dp[u][q] + d_1$, 2번 경찰차가 해결한 경우는 $dp[p][u] + d_2$ 가 된다. ( $d_1, d_2$는 해당 이동 시 발생하는 거리 )
* 이때 $dp[p][q]$는 $min(dp[u][q] + d_1, dp[p][u] + d_2)$ 가 되겠다.

최초 이동 시 각 경찰차의 좌표는 $(1, 1), (n, n)$ 이니 이를 유의하자.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

문제는 최적해의 역추적인데.. 나는 (내 기준) 가장 직관적인 방법으로 해결해 보았다.

최적해를 찾았다는 가정 하에 그 경로를 출력하기 위해선 3개의 값 (다음 이동의 $p, q$ 상태 및 어느 경찰차가 이동 했는지) 이 필요 하다고 생각했다.

즉, 위에서의

* $dp[u][q] + d_1$ 가 최적해 였다면 $pt[p][q] = (u, q, 1)$ 가 되고

* $dp[p][u] + d_2$ 가 최적해 였다면 $pt[p][q] = (p, u, 2)$가 된다.

이후 최초 호출이 $(0, 0, 1)$ 의 형태로 시작 됐으므로

$pt[p][q].w$의 값이 있는 동안 $p_1, q_1$를 다음 $p_2, q_2$로 갱신해가며 출력해주면 된다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

사실 이 문제는 예전 dp응애시절(사실 지금도)에 처음 봤다가 감도 안와서 즐겨찾기 탭에 박아두고 한동안 안 본 문제이다.

요새 열심히 dp재활을 하다 다시 마주쳤는데 별 게 없이 싱겁게 풀려서 살짝 엥?스러웠다.
