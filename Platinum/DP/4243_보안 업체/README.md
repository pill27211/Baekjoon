# [Platinum III] 보안 업체 - 4243

[문제 링크](https://www.acmicpc.net/problem/4243)

### 문제 요약

<p> 수직선 상에서 순찰을 하려 한다. 모든 상점의 대기 시간의 합이 최소가 되도록 하는 순찰 경로를 구해보자. </p>

### 제한

TL : 2sec, ML : 128 MB

$1 ≤ N ≤ 100$

$1 ≤ t_i ≤ 15,000,000$

### 성능 요약

메모리: 2180 KB, 시간: 8 ms

### 분류

다이나믹 프로그래밍(dp)

### comment

기존에 풀어온 dp 유형들과 살짝 다른 결의 유형이었다.

다음을 관찰해보자.

* 그리디적으로 접근할 수 없다. 부분 문제의 최적 해가 전체 문제의 최적 해로 이어짐이 보장되지 않는다.
* 움직임 하나하나가 큰 영향을 끼친다. 즉, 움직임을 최소화해야 하며 순찰을 이미 마친 위치는 없는셈 쳐야 한다.
* 이에 따라 임의의 구간 $p_1, p_2, ... p_i$의 순찰을 마쳤다면 최선의 위치는 제일 왼 쪽이거나, 오른 쪽이다. (내부에서 쓸 데 없는 움직임이 없어야 함)
* 그럼 결국 구간 $[p, q]$의 순찰을 마친 순간에서의 선택은 $p - 1$나 $q + 1$의 위치로 이동하는 것 둘 중 하나다.

이에 따라 점화식을 다음과 같이 정의해보자.

$dp[p][q][w]$ : 현재까지 구간 $[p, q]$의 순찰을 마쳤고, $w$의 위치에 있을 때 다음 이동의 최적 해. ( $w$가 $0$이라면 왼 쪽, $1$이라면 오른 쪽)

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

결국 위의 정의대로라면, 우리가 고려해야 할 사항은 4가지 뿐이다.

* $w == 1$일 때 $p - 1$로 이동.
* $w == 1$일 때 $q + 1$로 이동.
* $w == 0$일 때 $p - 1$로 이동.
* $w == 0$일 때 $q + 1$로 이동.

인근 위치로 이동할 때는 문제 없지만, 반대편으로 이동할 때는 그 사이 길이의 합을 구해야만 한다.

이를 빠르게 처리할 수 있도록 누적 합을 이용하자.

기저 조건은 당연히 $p == 1$ && $q == n$인 순간이 되겠다.
