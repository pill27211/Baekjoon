
# [Gold III] 할로윈의 양아치 - 20303

[문제 링크](https://www.acmicpc.net/problem/20303)

### 문제 요약

<p> K명 미만의 아이들의 사탕을 뺏을 수 있을 때, 뺏을 수 있는 최대 사탕 수를 구해보자.(단, 사탕을 뺏을 땐 해당 아이가 포함된 집합 단위로 뺏어야 한다) </p>

### 제한

TL : 1sec, ML : 1024 MB

1 ≤ N ≤ 30,000

0 ≤ M ≤ 100,000

1 ≤ K ≤ min(3000, N)

### 성능 요약

메모리: 3004 KB, 시간: 124 ms

### 분류

자료구조(data structures), 다이나믹 프로그래밍(dp), 분리 집합(disjoint set), 배낭 문제(knapsack)

### comment

분리 집합과 냅색 dp 문제가 결합된 재밌는 문제다.

같은 집합임을 표현하는 배열 이외에 총 두 개의 배열을 추가로 관리하자.(임의의 집합에 포함된 아이들의 수, 집합 내 모든 사탕 수의 합)

입력 되는 M개의 순서쌍 {a, b}를 merge해주며 아이들의 집합을 분류해보자.

이때, 단순히 합집합 연산만 수행하는 것이 아니라 합쳐지는 쪽으로 아이들의 수, 사탕 수도 더해주자.

즉, 집합 내 소속된 모든 아이의 수와 사탕 수를 특정하자.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

집합 분류가 끝났다면, 서로 다른 집합들을 {소속된 아이들의 수, 전체 사탕 수}의 형태로 뽑아내어 새로운 벡터(V)를 만들자.

이제 이 문제는, 최대 (K - 1)명의 아이를 포함할 수 있는 그룹에 담길 수 있는 최대 사탕 수를 구하는 전형적인 배낭 문제로 바뀌게 된다.

V를 순회하며 최대 냅색 dp 를 돌려주면 끝.
