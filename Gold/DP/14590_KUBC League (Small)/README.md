
# [Gold I] KUBC League (Small) - 14590

[문제 링크](https://www.acmicpc.net/problem/14590)

### 문제 요약

<p> tsp + 역추적 </p>

### 제한

TL : 1sec, ML : 256 MB

2 ≤ N ≤ 20

### 성능 요약

메모리: 83944 KB, 시간: 664 ms

### 분류

다이나믹 프로그래밍(dp), 비트마스킹(bitmask), 비트필드를 이용한 다이나믹 프로그래밍(dp_bitfield), 외판원 순회 문제(tsp)

### comment

연결될 수 있는 경로(1)를 따라 최대 경로를 찾고, 그 경로를 출력하는 문제이다.

상태 전이를 비트 단위로 관리하여 이어질 수 있는 가장 큰 경로를 찾아주면 간단하게 해결할 수 있다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

이어질 수 있는 경로의 최댓값은 구해냈는데, 이 과정에 해당되는 경로는 (문제의 출력 조건을 지키며) 어떻게 출력해야 할까 ?

이는 dp[][]에 저장되는 값을 생각해보면 자연스레 답을 찾아낼 수 있다.

우리가 먼저 찾았던 경로의 최댓값에 해당되는 경로라면,

상태 전이가 이어질 때마다 임의의 순간(dp[p][q])의 다음 순간(dp[p][q | (1 << i)])은 dp[p][q] == dp[p][q | (1 << i)] + 1 을 만족하게 된다.

따라서 최초 dp[0][1]을 시작으로 위 상태 전이를 진행하며 dp[p][q] == dp[p][q | (1 << i)] + 1 을 만족하는 경우를 따라 쭉쭉 출력해 나가면 된다.
